from __future__ import annotations

MESSAGES = {
    "ru": {
        "start": "<b>–ü—Ä–∏–≤–µ—Ç!</b> –Ø ‚Äî —Ç–≤–æ–π –≤–∏–¥–µ–æ–∫–æ–Ω—Å—å–µ—Ä–∂. –û—Ç–ø—Ä–∞–≤—å —Å—Å—ã–ª–∫—É –Ω–∞ YouTube, TikTok, Instagram –∏ –¥—Ä—É–≥–∏–µ –ø–ª–æ—â–∞–¥–∫–∏ ‚Äî —è –ø–æ–¥–±–µ—Ä—É –∏–¥–µ–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∏ –¥–æ—Å—Ç–∞–≤–ª—é —Ñ–∞–π–ª –±–µ–∑ –ª–∏—à–Ω–∏—Ö –∑–∞–¥–µ—Ä–∂–µ–∫.",
        "help": "<b>–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è</b>\n‚Ä¢ –ö–∏–Ω—å—Ç–µ —Å—Å—ã–ª–∫—É ‚Äî –ø–æ–¥–±–µ—Ä—É –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –ø–æ–∫–∞–∂—É —Ä–∞–∑–º–µ—Ä.\n‚Ä¢ –î–æ ‚âà{limit} –ú–ë –ø—Ä–∏–ª–µ—Ç–∏—Ç —Å—Ä–∞–∑—É –±–æ—Ç–æ–º. –ö—Ä—É–ø–Ω–µ–µ ‚Äî –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –ø–µ—Ä–µ–¥–∞–º —á–µ—Ä–µ–∑ userbot.\n‚Ä¢ –í—ã–±–∏—Ä–∞–π—Ç–µ: <i>–≤–∏–¥–µ–æ+–∞—É–¥–∏–æ</i>, <i>—Ç–æ–ª—å–∫–æ –≤–∏–¥–µ–æ</i> –∏–ª–∏ <i>—Ç–æ–ª—å–∫–æ –∞—É–¥–∏–æ</i>.",
        "original": "üîó –û—Ä–∏–≥–∏–Ω–∞–ª",
        "downloading": "‚è¨ {bar} {pct}%\n{size}/{total} ‚Ä¢ {speed}/s ‚Ä¢ ETA {eta}",
        "download_finished": "‚úÖ –§–∞–π–ª –≥–æ—Ç–æ–≤. –§–∏–Ω–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞‚Ä¶",
        "uploading_userbot": "‚è´ –ü–µ—Ä–µ–¥–∞—é —á–µ—Ä–µ–∑ userbot {pct}% {bar}",
        "userbot_done": "‚úÖ –ì–æ—Ç–æ–≤–æ! –§–∞–π–ª —É–∂–µ –≤ –ø—É—Ç–∏ –∫ –≤–∞–º.",
        "direct_link": "–§–∞–π–ª –±–æ–ª—å—à–æ–π. –ú–æ–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å –ø–æ —Å—Å—ã–ª–∫–µ:",
        "delivered": "‚úÖ –ì–æ—Ç–æ–≤–æ! –§–∞–π–ª —É–∂–µ –≤ —á–∞—Ç–µ.",
        "delivered_link": "‚úÖ –ì–æ—Ç–æ–≤–æ! –°—Å—ã–ª–∫–∞ –Ω–∏–∂–µ.",
        "settings_title": "–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞",
        "lang_ru": "üá∑üá∫ –†—É—Å—Å–∫–∏–π",
        "lang_en": "üá¨üáß English",
        "settings_saved": "‚úÖ –Ø–∑—ã–∫ —Å–æ—Ö—Ä–∞–Ω—ë–Ω: {lang}",
        "formats_unavailable": "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–æ—Ä–º–∞—Ç–∞—Ö. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Å—ã–ª–∫—É.",
        "error_download": "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é —Å—Å—ã–ª–∫—É.",
        "queued": "‚åõÔ∏è –ü–æ—Å—Ç–∞–≤–∏–ª –≤ –æ—á–µ—Ä–µ–¥—å ‚Äî –≤—Å—ë —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–æ{hint}",
        "preparing": "üîÑ –ü–æ–¥–±–∏—Ä–∞—é –ª—É—á—à–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫‚Ä¶",
        "queue_full": "üö¶ –û—á–µ—Ä–µ–¥—å –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑ —á–µ—Ä–µ–∑ –º–∏–Ω—É—Ç—É.",
        "queue_chat_full": "üôà –£ –≤–∞—Å —É–∂–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–≥—Ä—É–∑–æ–∫ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ. –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –∑–∞–ø—Ä–æ—Å.",
        "menu_recommended": "<b>–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã</b>",
        "menu_full": "<b>–í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã</b>",
        "menu_hint": "–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ ‚Äî –∏ —è –Ω–∞—á–Ω—É –∑–∞–≥—Ä—É–∑–∫—É.",
        "menu_more": "üéõ –í—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã",
        "menu_back": "‚¨ÖÔ∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏",
        "quality_best_short": "–õ—É—á—à–µ–µ",
        "quality_unknown": "‚Äî",
        "opt_best": "‚ú® –õ—É—á—à–µ–µ",
        "opt_compact": "‚ö°Ô∏è –ë—ã—Å—Ç—Ä–µ–µ",
        "opt_audio": "üéµ –ê—É–¥–∏–æ",
        "opt_video": "üé¨ –í–∏–¥–µ–æ",
        "meta_duration": "‚è± –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: {value}",
        "cooldown_active": "‚åöÔ∏è –°–¥–µ–ª–∞–π—Ç–µ –ø–∞—É–∑—É {seconds} —Å ‚Äî –∑–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω —Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–æ.",
        "queue_status": "<b>–û—á–µ—Ä–µ–¥—å</b>\n–í—Å–µ–≥–æ –∑–∞–¥–∞—á: {total}\n–°–∫–∞—á–∏–≤–∞–µ—Ç—Å—è: {downloading}\n–í–∞—à–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤: {chat}",
        "queue_limits": "–ü—Ä–µ–¥–µ–ª—ã: —Å–∏—Å—Ç–µ–º–∞ {max_total} ¬∑ –Ω–∞ —á–∞—Ç {max_chat} ¬∑ –∑–∞–¥–µ—Ä–∂–∫–∞ {cooldown}",
    },
    "en": {
        "start": "<b>Hey!</b> I‚Äôm your personal media concierge. Drop a link from YouTube, TikTok, Instagram or more ‚Äî I‚Äôll pick the perfect format and deliver it in style.",
        "help": "<b>How it works</b>\n‚Ä¢ Share a link ‚Äî I‚Äôll preview qualities with size hints.\n‚Ä¢ Up to ‚âà{limit} MB is sent instantly via the bot. Larger files glide through userbot.\n‚Ä¢ Choose between <i>video+audio</i>, <i>video only</i>, or <i>audio only</i>.",
        "original": "üîó Original",
        "downloading": "‚è¨ {bar} {pct}%\n{size}/{total} ‚Ä¢ {speed}/s ‚Ä¢ ETA {eta}",
        "download_finished": "‚úÖ Ready. Giving it a final polish‚Ä¶",
        "uploading_userbot": "‚è´ Handing off via userbot {pct}% {bar}",
        "userbot_done": "‚úÖ All set! Your file is on the way.",
        "direct_link": "File is large. Download via link:",
        "delivered": "‚úÖ Done! The file is now in the chat.",
        "delivered_link": "‚úÖ Done! Grab the link below.",
        "settings_title": "Choose interface language",
        "lang_ru": "üá∑üá∫ Russian",
        "lang_en": "üá¨üáß English",
        "settings_saved": "‚úÖ Language saved: {lang}",
        "formats_unavailable": "Failed to get formats. Check the link.",
        "error_download": "Error while downloading. Try another link.",
        "queued": "‚åõÔ∏è Added to the queue ‚Äî getting everything ready{hint}",
        "preparing": "üîÑ Lining up the best source‚Ä¶",
        "queue_full": "üö¶ Queue is at capacity right now. Please retry in a minute.",
        "queue_chat_full": "üôà You already have a few downloads running. Let them finish and try again.",
        "menu_recommended": "<b>Recommended formats</b>",
        "menu_full": "<b>All formats</b>",
        "menu_hint": "Tap a button to start the download.",
        "menu_more": "üéõ Full list",
        "menu_back": "‚¨ÖÔ∏è Recommended",
        "quality_best_short": "Best",
        "quality_unknown": "‚Äî",
        "opt_best": "‚ú® Best",
        "opt_compact": "‚ö°Ô∏è Faster",
        "opt_audio": "üéµ Audio",
        "opt_video": "üé¨ Video",
        "meta_duration": "‚è± Duration: {value}",
        "cooldown_active": "‚åöÔ∏è Easy there! Try again in {seconds}s.",
        "queue_status": "<b>Queue</b>\nTotal jobs: {total}\nDownloading now: {downloading}\nYour requests: {chat}",
        "queue_limits": "Limits: global {max_total} ¬∑ per chat {max_chat} ¬∑ cooldown {cooldown}",
    },
}


def t(lang: str, key: str, **kwargs) -> str:
    lang = lang if lang in MESSAGES else "ru"
    msg = MESSAGES[lang].get(key) or MESSAGES["ru"].get(key) or key
    if kwargs:
        try:
            return msg.format(**kwargs)
        except Exception:
            return msg
    return msg
